<UserControl
    x:Class="ZhApi.WpfApp.LogItems.FileProgressControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:ZhApi.WpfApp.LogItems"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    FontSize="14"
    Foreground="{StaticResource TextE6}"
    Visibility="{Binding Visibility}"
    mc:Ignorable="d">
    <d:UserControl.DataContext>
        <local:FileProgressControlViewModel
            Title="写入"
            Current="1024"
            FileName="System.Windows.Forms.xml"
            Length="9527"
            ProgresstVisibility="Visible"
            Summary="10"
            Visibility="Visible"/>
    </d:UserControl.DataContext>
    <StackPanel Orientation="Horizontal">
        <!--  标题  -->
        <TextBlock
            Grid.Column="0"
            Padding="5,0"
            Text="{Binding Title}"/>


        <!--  进度内容  ToolTip="{Binding FilePath}" -->
        <TextBlock
            TextWrapping="Wrap"
            Grid.Column="1" >
            <Run Text="{Binding FileName}" FontSize="13"/>
            <Run Text="{Binding Length, StringFormat={}{0:N0}}"
                 Foreground="{StaticResource Textdim}"/>

        </TextBlock>

        <!--  进度条  -->
        <Grid MinWidth="45"
              Visibility="{Binding ProgresstVisibility}">
            <TextBlock
                d:Text="10.0%"
                HorizontalAlignment="Right"
                Text="{Binding Progress, Mode=OneWay,
                Converter={StaticResource percentageFormat}}"/>

            <ProgressBar
                Height="3"
                Maximum="1.0"
                Width="40"
                Value="{Binding Progress, Mode=OneWay }"
                VerticalAlignment="Bottom"
                HorizontalAlignment="Right"/>
        </Grid>
    </StackPanel>

</UserControl>
